// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: query.sql

package querytest

import (
	"context"

	"github.com/ydb-platform/ydb-go-sdk/v3/pkg/xerrors"
	"github.com/ydb-platform/ydb-go-sdk/v3/query"
)

const coalesceNumeric = `-- name: CoalesceNumeric :many
SELECT COALESCE(baz, 0) AS login
FROM foo
`

func (q *Queries) CoalesceNumeric(ctx context.Context, opts ...query.ExecuteOption) ([]int64, error) {
	result, err := q.db.QueryResultSet(ctx, coalesceNumeric, opts...)
	if err != nil {
		return nil, xerrors.WithStackTrace(err)
	}
	var items []int64
	for row, err := range result.Rows(ctx) {
		if err != nil {
			return nil, xerrors.WithStackTrace(err)
		}
		var login int64
		if err := row.Scan(&login); err != nil {
			return nil, xerrors.WithStackTrace(err)
		}
		items = append(items, login)
	}
	if err := result.Close(ctx); err != nil {
		return nil, xerrors.WithStackTrace(err)
	}
	return items, nil
}

const coalesceNumericColumns = `-- name: CoalesceNumericColumns :many
SELECT baz, qux, COALESCE(baz, qux)
FROM foo
`

type CoalesceNumericColumnsRow struct {
	Baz   *int64
	Qux   int64
	Baz_2 int64
}

func (q *Queries) CoalesceNumericColumns(ctx context.Context, opts ...query.ExecuteOption) ([]CoalesceNumericColumnsRow, error) {
	result, err := q.db.QueryResultSet(ctx, coalesceNumericColumns, opts...)
	if err != nil {
		return nil, xerrors.WithStackTrace(err)
	}
	var items []CoalesceNumericColumnsRow
	for row, err := range result.Rows(ctx) {
		if err != nil {
			return nil, xerrors.WithStackTrace(err)
		}
		var i CoalesceNumericColumnsRow
		if err := row.Scan(&i.Baz, &i.Qux, &i.Baz_2); err != nil {
			return nil, xerrors.WithStackTrace(err)
		}
		items = append(items, i)
	}
	if err := result.Close(ctx); err != nil {
		return nil, xerrors.WithStackTrace(err)
	}
	return items, nil
}

const coalesceNumericNull = `-- name: CoalesceNumericNull :many
SELECT baz, COALESCE(baz)
FROM foo
`

type CoalesceNumericNullRow struct {
	Baz   *int64
	Baz_2 *int64
}

func (q *Queries) CoalesceNumericNull(ctx context.Context, opts ...query.ExecuteOption) ([]CoalesceNumericNullRow, error) {
	result, err := q.db.QueryResultSet(ctx, coalesceNumericNull, opts...)
	if err != nil {
		return nil, xerrors.WithStackTrace(err)
	}
	var items []CoalesceNumericNullRow
	for row, err := range result.Rows(ctx) {
		if err != nil {
			return nil, xerrors.WithStackTrace(err)
		}
		var i CoalesceNumericNullRow
		if err := row.Scan(&i.Baz, &i.Baz_2); err != nil {
			return nil, xerrors.WithStackTrace(err)
		}
		items = append(items, i)
	}
	if err := result.Close(ctx); err != nil {
		return nil, xerrors.WithStackTrace(err)
	}
	return items, nil
}

const coalesceString = `-- name: CoalesceString :many
SELECT COALESCE(bar, '') AS login
FROM foo
`

func (q *Queries) CoalesceString(ctx context.Context, opts ...query.ExecuteOption) ([]string, error) {
	result, err := q.db.QueryResultSet(ctx, coalesceString, opts...)
	if err != nil {
		return nil, xerrors.WithStackTrace(err)
	}
	var items []string
	for row, err := range result.Rows(ctx) {
		if err != nil {
			return nil, xerrors.WithStackTrace(err)
		}
		var login string
		if err := row.Scan(&login); err != nil {
			return nil, xerrors.WithStackTrace(err)
		}
		items = append(items, login)
	}
	if err := result.Close(ctx); err != nil {
		return nil, xerrors.WithStackTrace(err)
	}
	return items, nil
}

const coalesceStringColumns = `-- name: CoalesceStringColumns :many
SELECT bar, bat, COALESCE(bar, bat)
FROM foo
`

type CoalesceStringColumnsRow struct {
	Bar   *string
	Bat   string
	Bar_2 string
}

func (q *Queries) CoalesceStringColumns(ctx context.Context, opts ...query.ExecuteOption) ([]CoalesceStringColumnsRow, error) {
	result, err := q.db.QueryResultSet(ctx, coalesceStringColumns, opts...)
	if err != nil {
		return nil, xerrors.WithStackTrace(err)
	}
	var items []CoalesceStringColumnsRow
	for row, err := range result.Rows(ctx) {
		if err != nil {
			return nil, xerrors.WithStackTrace(err)
		}
		var i CoalesceStringColumnsRow
		if err := row.Scan(&i.Bar, &i.Bat, &i.Bar_2); err != nil {
			return nil, xerrors.WithStackTrace(err)
		}
		items = append(items, i)
	}
	if err := result.Close(ctx); err != nil {
		return nil, xerrors.WithStackTrace(err)
	}
	return items, nil
}

const coalesceStringNull = `-- name: CoalesceStringNull :many
SELECT bar, COALESCE(bar)
FROM foo
`

type CoalesceStringNullRow struct {
	Bar   *string
	Bar_2 *string
}

func (q *Queries) CoalesceStringNull(ctx context.Context, opts ...query.ExecuteOption) ([]CoalesceStringNullRow, error) {
	result, err := q.db.QueryResultSet(ctx, coalesceStringNull, opts...)
	if err != nil {
		return nil, xerrors.WithStackTrace(err)
	}
	var items []CoalesceStringNullRow
	for row, err := range result.Rows(ctx) {
		if err != nil {
			return nil, xerrors.WithStackTrace(err)
		}
		var i CoalesceStringNullRow
		if err := row.Scan(&i.Bar, &i.Bar_2); err != nil {
			return nil, xerrors.WithStackTrace(err)
		}
		items = append(items, i)
	}
	if err := result.Close(ctx); err != nil {
		return nil, xerrors.WithStackTrace(err)
	}
	return items, nil
}
