// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: query.sql

package querytest

import (
	"context"
)

const deleteAuthor = `-- name: DeleteAuthor :exec
DELETE FROM
  books
WHERE
  author NOT IN (
    SELECT
      a.name
    FROM
      authors a
    WHERE
      a.age >= $min_author_age
  )
  AND translator NOT IN (
    SELECT
      t.name
    FROM
      translators t
    WHERE
      t.age >= $min_translator_age
  )
  AND year <= $max_year
`

type DeleteAuthorParams struct {
	MinAuthorAge     *int32
	MinTranslatorAge *int32
	MaxYear          *int32
}

func (q *Queries) DeleteAuthor(ctx context.Context, arg DeleteAuthorParams) error {
	_, err := q.db.ExecContext(ctx, deleteAuthor, arg.MinAuthorAge, arg.MinTranslatorAge, arg.MaxYear)
	return err
}
