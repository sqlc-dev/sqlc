// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: query.sql

package querytest

import (
	"context"

	"github.com/ydb-platform/ydb-go-sdk/v3"
	"github.com/ydb-platform/ydb-go-sdk/v3/pkg/xerrors"
	"github.com/ydb-platform/ydb-go-sdk/v3/query"
)

const upsertLocation = `-- name: UpsertLocation :exec
UPSERT INTO locations (
    id,
    name,
    address,
    zip_code,
    latitude,
    longitude
)
VALUES ($id, $name, $address, $zip_code, $latitude, $longitude)
`

type UpsertLocationParams struct {
	ID        int32
	Name      string
	Address   string
	ZipCode   int32
	Latitude  float64
	Longitude float64
}

func (q *Queries) UpsertLocation(ctx context.Context, arg UpsertLocationParams, opts ...query.ExecuteOption) error {
	parameters := ydb.ParamsBuilder()
	parameters = parameters.Param("$id").Int32(arg.ID)
	parameters = parameters.Param("$name").Text(arg.Name)
	parameters = parameters.Param("$address").Text(arg.Address)
	parameters = parameters.Param("$zip_code").Int32(arg.ZipCode)
	parameters = parameters.Param("$latitude").Double(arg.Latitude)
	parameters = parameters.Param("$longitude").Double(arg.Longitude)
	err := q.db.Exec(ctx, upsertLocation,
		append(opts, query.WithParameters(parameters.Build()))...,
	)
	if err != nil {
		return xerrors.WithStackTrace(err)
	}
	return nil
}
